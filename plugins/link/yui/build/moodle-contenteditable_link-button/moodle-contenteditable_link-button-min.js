YUI.add("moodle-contenteditable_link-button",function(e,t){M.contenteditable_link=M.contenteditable_link||{dialogue:null,selection:null,init:function(e){var t=function(e){e.preventDefault();var t=new M.core.dialogue({visible:!1,modal:!0,close:!0,draggable:!0});M.contenteditable_link.selection=M.editor_contenteditable.get_selection(),t.render(),t.set("bodyContent",M.contenteditable_link.get_form_content()),t.show(),M.contenteditable_link.dialogue=t};M.editor_contenteditable.add_toolbar_button(e.elementid,"link",e.icon,t,this)},set_link:function(e){e.preventDefault();var t=e.currentTarget.get("parentNode").one("input"),n=t.get("value");n!==""&&(M.editor_contenteditable.set_selection(M.contenteditable_link.selection),document.execCommand("createLink",!1,n)),M.contenteditable_link.dialogue.hide()},get_form_content:function(){var t=e.Node.create('<form><label for="urlentry">'+M.util.get_string("url","contenteditable_link")+"</label><br/>"+'<input type="url" value="" id="urlentry" size="64"/>'+'<button id="urlentrysubmit">'+M.util.get_string("createlink","contenteditable_link")+"</button>"+"</form>");return t.one("#urlentrysubmit").on("click",M.contenteditable_link.set_link),t}}},"@VERSION@",{requires:["node"]});
